# Generated by Django 5.1.7 on 2025-04-08 19:00
# flake8: noqa
from django.db import migrations


def create_initial_fluids(apps, schema_editor):
    """Insère les données initiales pour les fluides incompressibles."""
    IncompressibleMixtureFluid = apps.get_model(
        "sec_fluid", "IncompressibleMixtureFluid"
    )
    db_alias = schema_editor.connection.alias

    fluids_data = [
        # mass-based binary mixtures
        {
            "name": "FRE",
            "description": "Freezium, Potassium Formate",
            "temperature_min": -40.15,
            "temperature_max": 39.85,
            "temperature_base": 0.00,
            "concentration_min": 0.19,
            "concentration_max": 0.50,
        },
        {
            "name": "IceEA",
            "description": "Ice slurry with Ethanol",
            "temperature_min": -33.15,
            "temperature_max": -8.15,
            "temperature_base": -20.65,
            "concentration_min": 0.05,
            "concentration_max": 0.35,
        },
        {
            "name": "IceNA",
            "description": "Ice slurry with NaCl",
            "temperature_min": -18.15,
            "temperature_max": -3.15,
            "temperature_base": -10.65,
            "concentration_min": 0.05,
            "concentration_max": 0.35,
        },
        {
            "name": "IcePG",
            "description": "Ice slurry with Propylene Glycol",
            "temperature_min": -43.15,
            "temperature_max": -8.15,
            "temperature_base": -25.65,
            "concentration_min": 0.05,
            "concentration_max": 0.35,
        },
        {
            "name": "LiBr",
            "description": "Lithium-bromide solution - aq",
            "temperature_min": -0.15,
            "temperature_max": 226.85,
            "temperature_base": 113.35,
            "concentration_min": 0.00,
            "concentration_max": 0.75,
        },
        {
            "name": "MAM",
            "description": "Ammonia (NH3) - aqueous solution",
            "temperature_min": -100.00,
            "temperature_max": 30.00,
            "temperature_base": -4.65,
            "concentration_min": 0.00,
            "concentration_max": 0.30,
        },
        {
            "name": "MAM2",
            "description": "Melinder, Ammonia",
            "temperature_min": -49.00,
            "temperature_max": 20.00,
            "temperature_base": -14.50,
            "concentration_min": 0.08,
            "concentration_max": 0.24,
        },
        {
            "name": "MCA",
            "description": "Calcium Chloride (CaCl2) - aq",
            "temperature_min": -100.00,
            "temperature_max": 40.00,
            "temperature_base": 7.53,
            "concentration_min": 0.00,
            "concentration_max": 0.30,
        },
        {
            "name": "MCA2",
            "description": "Melinder, Calcium Chloride",
            "temperature_min": -44.00,
            "temperature_max": 30.00,
            "temperature_base": -7.00,
            "concentration_min": 0.09,
            "concentration_max": 0.29,
        },
        {
            "name": "MEA",
            "description": "Ethyl Alcohol (Ethanol) - aq",
            "temperature_min": -100.00,
            "temperature_max": 40.00,
            "temperature_base": 8.16,
            "concentration_min": 0.00,
            "concentration_max": 0.60,
        },
        {
            "name": "MEA2",
            "description": "Melinder, Ethanol",
            "temperature_min": -44.00,
            "temperature_max": 20.00,
            "temperature_base": -12.00,
            "concentration_min": 0.11,
            "concentration_max": 0.60,
        },
        {
            "name": "MEG",
            "description": "Ethylene Glycol - aq",
            "temperature_min": -100.00,
            "temperature_max": 100.00,
            "temperature_base": 31.73,
            "concentration_min": 0.00,
            "concentration_max": 0.60,
        },
        {
            "name": "MEG2",
            "description": "Melinder, Ethylene Glycol",
            "temperature_min": -44.00,
            "temperature_max": 40.00,
            "temperature_base": -2.00,
            "concentration_min": 0.00,
            "concentration_max": 0.56,
        },
        {
            "name": "MGL",
            "description": "Glycerol - aq",
            "temperature_min": -100.00,
            "temperature_max": 40.00,
            "temperature_base": 8.91,
            "concentration_min": 0.00,
            "concentration_max": 0.60,
        },
        {
            "name": "MGL2",
            "description": "Melinder, Glycerol",
            "temperature_min": -40.00,
            "temperature_max": 40.00,
            "temperature_base": 0.00,
            "concentration_min": 0.20,
            "concentration_max": 0.63,
        },
        {
            "name": "MITSW",
            "description": "MIT Seawater",
            "temperature_min": 0.00,
            "temperature_max": 120.00,
            "temperature_base": 60.00,
            "concentration_min": 0.00,
            "concentration_max": 0.12,
        },
        {
            "name": "MKA",
            "description": "Potassium Acetate (CH3CO2K) - aq",
            "temperature_min": -100.00,
            "temperature_max": 40.00,
            "temperature_base": 6.78,
            "concentration_min": 0.00,
            "concentration_max": 0.45,
        },
        {
            "name": "MKA2",
            "description": "Melinder, Potassium Acetate",
            "temperature_min": -44.00,
            "temperature_max": 30.00,
            "temperature_base": -7.00,
            "concentration_min": 0.11,
            "concentration_max": 0.41,
        },
        {
            "name": "MKC",
            "description": "Potassium Carbonate (K2CO3) - aq",
            "temperature_min": -100.00,
            "temperature_max": 40.00,
            "temperature_base": 11.24,
            "concentration_min": 0.00,
            "concentration_max": 0.40,
        },
        {
            "name": "MKC2",
            "description": "Melinder, Potassium Carbonate",
            "temperature_min": -35.00,
            "temperature_max": 30.00,
            "temperature_base": -2.50,
            "concentration_min": 0.00,
            "concentration_max": 0.39,
        },
        {
            "name": "MKF",
            "description": "Potassium Formate (CHKO2) - aq",
            "temperature_min": -100.00,
            "temperature_max": 40.00,
            "temperature_base": 5.89,
            "concentration_min": 0.00,
            "concentration_max": 0.48,
        },
        {
            "name": "MLI",
            "description": "Lithium Chloride (LiCl) - aq",
            "temperature_min": -100.00,
            "temperature_max": 40.00,
            "temperature_base": 1.49,
            "concentration_min": 0.00,
            "concentration_max": 0.24,
        },
        {
            "name": "MMA",
            "description": "Methyl Alcohol (Methanol) - aq",
            "temperature_min": -100.00,
            "temperature_max": 40.00,
            "temperature_base": 3.54,
            "concentration_min": 0.00,
            "concentration_max": 0.60,
        },
        {
            "name": "MMA2",
            "description": "Melinder, Methanol",
            "temperature_min": -50.00,
            "temperature_max": 20.00,
            "temperature_base": -15.00,
            "concentration_min": 0.08,
            "concentration_max": 0.47,
        },
        {
            "name": "MMG",
            "description": "MgCl2 - aq",
            "temperature_min": -100.00,
            "temperature_max": 40.00,
            "temperature_base": 9.32,
            "concentration_min": 0.00,
            "concentration_max": 0.30,
        },
        {
            "name": "MMG2",
            "description": "Melinder, Magnesium Chloride",
            "temperature_min": -30.00,
            "temperature_max": 30.00,
            "temperature_base": 0.00,
            "concentration_min": 0.00,
            "concentration_max": 0.21,
        },
        {
            "name": "MNA",
            "description": "Sodium Chloride (NaCl) - aq",
            "temperature_min": -100.00,
            "temperature_max": 40.00,
            "temperature_base": 12.62,
            "concentration_min": 0.00,
            "concentration_max": 0.23,
        },
        {
            "name": "MNA2",
            "description": "Melinder, Sodium Chloride",
            "temperature_min": -20.00,
            "temperature_max": 30.00,
            "temperature_base": 5.00,
            "concentration_min": 0.00,
            "concentration_max": 0.23,
        },
        {
            "name": "MPG",
            "description": "Propylene Glycol - aq",
            "temperature_min": -100.00,
            "temperature_max": 100.00,
            "temperature_base": 32.71,
            "concentration_min": 0.00,
            "concentration_max": 0.60,
        },
        {
            "name": "MPG2",
            "description": "Melinder, Propylene Glycol",
            "temperature_min": -45.00,
            "temperature_max": 40.00,
            "temperature_base": -2.50,
            "concentration_min": 0.15,
            "concentration_max": 0.57,
        },
        {
            "name": "VCA",
            "description": "VDI, Calcium Cloride",
            "temperature_min": -55.00,
            "temperature_max": 20.00,
            "temperature_base": -17.50,
            "concentration_min": 0.15,
            "concentration_max": 0.30,
        },
        {
            "name": "VKC",
            "description": "VDI, Potassium Carbonate",
            "temperature_min": -35.00,
            "temperature_max": 20.00,
            "temperature_base": -7.50,
            "concentration_min": 0.13,
            "concentration_max": 0.39,
        },
        {
            "name": "VMA",
            "description": "VDI, Methanol",
            "temperature_min": -80.00,
            "temperature_max": 0.00,
            "temperature_base": -40.00,
            "concentration_min": 0.10,
            "concentration_max": 0.90,
        },
        {
            "name": "VMG",
            "description": "VDI, Magnesium Chloride",
            "temperature_min": -33.00,
            "temperature_max": 20.00,
            "temperature_base": -6.50,
            "concentration_min": 0.07,
            "concentration_max": 0.21,
        },
        {
            "name": "VNA",
            "description": "VDI, Sodium Chloride",
            "temperature_min": -21.00,
            "temperature_max": 20.00,
            "temperature_base": -0.50,
            "concentration_min": 0.07,
            "concentration_max": 0.23,
        },
        # volume-based binary mixtures
        {
            "name": "AEG",
            "description": "ASHRAE, Ethylene Glycol",
            "temperature_min": -35.00,
            "temperature_max": 100.00,
            "temperature_base": 32.50,
            "concentration_min": 0.10,
            "concentration_max": 0.60,
        },
        {
            "name": "AKF",
            "description": "Antifrogen KF, Potassium Formate",
            "temperature_min": -40.00,
            "temperature_max": 50.00,
            "temperature_base": 5.00,
            "concentration_min": 0.40,
            "concentration_max": 1.00,
        },
        {
            "name": "AL",
            "description": "Antifrogen L, Propylene Glycol",
            "temperature_min": -40.00,
            "temperature_max": 80.00,
            "temperature_base": 20.00,
            "concentration_min": 0.10,
            "concentration_max": 0.60,
        },
        {
            "name": "AN",
            "description": "Antifrogen N, Ethylene Glycol",
            "temperature_min": -40.00,
            "temperature_max": 80.00,
            "temperature_base": 20.00,
            "concentration_min": 0.10,
            "concentration_max": 0.60,
        },
        {
            "name": "APG",
            "description": "ASHRAE, Propylene Glycol",
            "temperature_min": -35.00,
            "temperature_max": 100.00,
            "temperature_base": 32.50,
            "concentration_min": 0.10,
            "concentration_max": 0.60,
        },
        {
            "name": "GKN",
            "description": "Glykosol N, Ethylene Glycol",
            "temperature_min": -53.00,
            "temperature_max": 100.00,
            "temperature_base": 23.50,
            "concentration_min": 0.10,
            "concentration_max": 0.60,
        },
        {
            "name": "PK2",
            "description": "Pekasol 2000, K acetate/formate",
            "temperature_min": -62.00,
            "temperature_max": 100.00,
            "temperature_base": 19.00,
            "concentration_min": 0.30,
            "concentration_max": 1.00,
        },
        {
            "name": "PKL",
            "description": "Pekasol L, Propylene Glycol",
            "temperature_min": -49.00,
            "temperature_max": 100.00,
            "temperature_base": 25.50,
            "concentration_min": 0.10,
            "concentration_max": 0.60,
        },
        {
            "name": "ZAC",
            "description": "Zitrec AC, Corrosion Inhibitor",
            "temperature_min": 0.00,
            "temperature_max": 100.00,
            "temperature_base": 50.00,
            "concentration_min": 0.06,
            "concentration_max": 0.50,
        },
        {
            "name": "ZFC",
            "description": "Zitrec FC, Propylene Glycol",
            "temperature_min": -40.00,
            "temperature_max": 100.00,
            "temperature_base": 30.00,
            "concentration_min": 0.30,
            "concentration_max": 0.60,
        },
        {
            "name": "ZLC",
            "description": "Zitrec LC, Propylene Glycol",
            "temperature_min": -50.00,
            "temperature_max": 100.00,
            "temperature_base": 25.00,
            "concentration_min": 0.30,
            "concentration_max": 0.70,
        },
        {
            "name": "ZM",
            "description": "Zitrec M, Ethylene Glycol",
            "temperature_min": -50.00,
            "temperature_max": 120.00,
            "temperature_base": 35.00,
            "concentration_min": 0.00,
            "concentration_max": 1.00,
        },
        {
            "name": "ZMC",
            "description": "Zitrec MC, Ethylene Glycol",
            "temperature_min": -50.00,
            "temperature_max": 110.00,
            "temperature_base": 30.00,
            "concentration_min": 0.30,
            "concentration_max": 0.70,
        },
    ]

    # Supprimer les anciens fluides avant d'insérer pour éviter les doublons
    fluid_names_to_delete = [f["name"] for f in fluids_data]
    IncompressibleMixtureFluid.objects.using(db_alias).filter(
        name__in=fluid_names_to_delete
    ).delete()

    for fluid_data in fluids_data:
        IncompressibleMixtureFluid.objects.using(db_alias).create(**fluid_data)


def remove_initial_fluids(apps, schema_editor):
    """Supprime les données initiales des fluides."""
    IncompressibleMixtureFluid = apps.get_model(
        "sec_fluid", "IncompressibleMixtureFluid"
    )
    db_alias = schema_editor.connection.alias
    # Liste de tous les noms de fluides ajoutés dans cette migration
    fluid_names = [
        # mass-based binary mixtures
        "FRE",
        "IceEA",
        "IceNA",
        "IcePG",
        "LiBr",
        "MAM",
        "MAM2",
        "MCA",
        "MCA2",
        "MEA",
        "MEA2",
        "MEG",
        "MEG2",
        "MGL",
        "MGL2",
        "MITSW",
        "MKA",
        "MKA2",
        "MKC",
        "MKC2",
        "MKF",
        "MLI",
        "MMA",
        "MMA2",
        "MMG",
        "MMG2",
        "MNA",
        "MNA2",
        "MPG",
        "MPG2",
        "VCA",
        "VKC",
        "VMA",
        "VMG",
        "VNA",
        # volume-based added
        "AEG",
        "AKF",
        "AL",
        "AN",
        "APG",
        "GKN",
        "PK2",
        "PKL",
        "ZAC",
        "ZFC",
        "ZLC",
        "ZM",
        "ZMC",
    ]
    IncompressibleMixtureFluid.objects.using(db_alias).filter(
        name__in=fluid_names
    ).delete()


class Migration(migrations.Migration):
    dependencies = [
        ("sec_fluid", "0001_initial"),
    ]

    operations = [
        migrations.RunPython(create_initial_fluids, remove_initial_fluids),
    ]
